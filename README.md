# üê¶ Microblog Backend

Backend‚Äë—Å–µ—Ä–≤–∏—Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –º–∏–∫—Ä–æ–±–ª–æ–≥–∞ (–∞–Ω–∞–ª–æ–≥ Twitter), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π
–≤ —Ä–∞–º–∫–∞—Ö –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ –∫—É—Ä—Å—É **Python Advanced**.

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ
—Ç—Ä–µ–±—É–µ–º—ã–µ API, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger, Docker‚Äë—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ, —Ç–µ—Å—Ç—ã –∏
README.

------------------------------------------------------------------------

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏
–ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:

-   –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–≤–∏—Ç—ã;
-   —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ —Ç–≤–∏—Ç—ã;
-   —Å—Ç–∞–≤–∏—Ç—å –∏ —É–±–∏—Ä–∞—Ç—å –ª–∞–π–∫–∏;
-   –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –∏ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
-   –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –ª–µ–Ω—Ç—É —Ç–≤–∏—Ç–æ–≤;
-   –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫ —Ç–≤–∏—Ç–∞–º.

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π **–Ω–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è** ---
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –ø–æ `api-key`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–º—É –≤
HTTP‚Äë–∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö.

------------------------------------------------------------------------

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úî –°–æ–∑–¥–∞–Ω–∏–µ —Ç–≤–∏—Ç–æ–≤\
‚úî –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–≤–∏—Ç–æ–≤\
‚úî –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\
‚úî –õ–∞–π–∫–∏ –∏ —Å–Ω—è—Ç–∏–µ –ª–∞–π–∫–æ–≤\
‚úî –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –æ—Ç–ø–∏—Å–∫–∏\
‚úî –õ–µ–Ω—Ç–∞ —Ç–≤–∏—Ç–æ–≤ –æ—Ç –ø–æ–¥–ø–∏—Å–æ–∫, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏\
‚úî –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è\
‚úî –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API‚Äë–∫–ª—é—á\
‚úî Swagger‚Äë–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

------------------------------------------------------------------------

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

-   Python 3.10\
-   Flask\
-   Flask‚ÄëRESTX (Swagger / OpenAPI)\
-   SQLAlchemy\
-   PostgreSQL\
-   Docker / Docker Compose\
-   Gunicorn\
-   Nginx\
-   Pytest\
-   black / isort / flake8 / mypy

------------------------------------------------------------------------

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

| –°–µ—Ä–≤–∏—Å   | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ           |
|----------|----------------------|
| frontend | Nginx + –≥–æ—Ç–æ–≤—ã–π UI   |
| backend  | Flask API + Gunicorn |
| db       | PostgreSQL           |

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Docker volumes --- –¥–∞–Ω–Ω—ã–µ –±–∞–∑—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.

------------------------------------------------------------------------

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

-   Docker\
-   Docker Compose 

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`
–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –ó–∞–ø—É—Å–∫


``` bash
docker-compose up -d
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

-   üåê Frontend: http://localhost\
-   üìò Swagger API: http://localhost:8000/docs\
-   üêò PostgreSQL: localhost:5432

------------------------------------------------------------------------

## üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

    api-key: test

–õ—é–±–æ–π –∫–ª—é—á –¥–æ–ø—É—Å—Ç–∏–º, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

Swagger —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `api-key`.

------------------------------------------------------------------------

## üìÑ Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

    http://localhost:8000/docs

------------------------------------------------------------------------

## üì∑ –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

POST /api/medias ‚Üí multipart/form-data\
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `media_id`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–≤–∏—Ç–∞.

------------------------------------------------------------------------

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

``` bash
pytest backend/tests
```

------------------------------------------------------------------------

## üßæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ dist/
‚îú‚îÄ‚îÄ uploads/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ requirements.txt
```